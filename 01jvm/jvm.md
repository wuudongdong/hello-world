# JVM

## 1 Java内存模型
java运行时数据区包括栈、堆、非堆、堆外、jvm自身。
- 栈
  每个线程的栈内存用Xss来指定，表示jvm允许的栈内存的最大值，默认值是1024个字节，用来存储操作数栈、局部变量表、返回值、Class/method指针等信息。
- 堆  
  堆内存用来存对象实例的，堆内存被所有线程共享，启动时可以用Xms、Xmx分别指定堆内存的最小和最大值，一般把这两个值设置成一样的，
  这样可以减少频繁扩容造成的系统压力，推荐设置成机器内存的70%～80%。堆内存分为新生代和老年代，新生代和老年代的比例是1：2，新生代又分为1个Eden区和2个Survivor区，
  Eden和Survivor的比例是8：1。
- 非堆
  非堆包含Metaspace和CCS和Code Cache。Metaspace包含运行时常量池和方法区。CCS是压缩Class区，当内存小于32G时，默认64位的机器开始压缩指针，CCS叫压缩Class区，
  并不是说对这部分内存进行了压缩，而是对指向该区域的指针进行了压缩，在64位的机器上内存地址只能用64个二进制位来表示，这里的压缩是指可以用32位来表示之前用64位表示的地址值，
  Code Cache用来存储热点方法被JIT编译成机器码后存放机器码的区域。Metaspace上的内存是在类加载的时候被分配的，用来存储Class的元数据。
- 堆外
  NIO的Buffer直接在内存上分配的空间
- JVM自身使用的内存  
  
## 2 GC

## 3 字节码
## 4 类加载器